<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      layout:decorate="partials/layout.html">
<head th:insert="~{partials/sideBar  :: header}">
    <meta charset="UTF-8">
    <title>Profil</title>
</head>
<body>
<div layout:fragment="content" class="container">
    <div class="main-body">


        <!-- /Breadcrumb -->

        <div class="row gutters-sm">
            <div class="col-md-4">
                <div class="card h-100" style="background-color: lightsteelblue;">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img th:if="${member.pic}" alt="user icon" class="rounded-circle" width="150"
                                 th:src="@{'images/'+${member.pic}}">
                            <div class="mt-3">
                                <h4 class="fw-bold" th:utext="${member.getName()}+' '+${member.getLname()}"></h4>
                                <p class="text-secondary mb-1" th:utext="${member.getEmail()}"></p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="card mb-3 h-100" style="background-color: #cedbec;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Nom</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getName()}">

                                    </div>
                                </div>
                                <hr>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-1">Prénom</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getLname()}">
                                    </div>
                                </div>
                                <hr>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Email</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getEmail()}">
                                    </div>
                                </div>
                                <hr>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-sm-3" style="margin-bottom: 1rem;">
                                        <h6 class="mb-1">Tele</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getTele()}">

                                    </div>
                                    <hr>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-1">Cin</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getCin()}">
                                    </div>
                                </div>
                                <hr>
                            </div>
                            <div class="col-md-6">

                                <div class="row">
                                    <div class="col-sm-7">
                                        <h6 class="mb-1">Date de naissance</h6>
                                    </div>
                                    <div class="col-sm-5 text-secondary" th:utext="${member.getDob()}">
                                    </div>
                                </div>
                                <hr>
                            </div>


                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Adresse</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary" th:utext="${member.getCin()}">
                                        </div>
                                    </div>
                                    <hr>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Sexe</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary" th:utext="${member.getGender()}">
                                        </div>
                                    </div>
                                    <hr>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Mot de pass</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary" th:utext="${member.getPassword()}">
                                    </div>
                                </div>
                                <hr>
                            </div>


                        </div>
                    </div>


                </div>
            </div>
        </div>


                <div class="card mt-4" >


                        <div class="card-header text-white" style="background-color: #598edb;">
                            <h3 style=" font-family: Arial, sans-serif !important;">Historique des paiements</h3>
                        </div>

                            <table class="table table-centered table-hover table-responsive mt-3">

                                <tr th:each="p:${payments}" style="background-color: white">
                                    <td th:utext="${p.getId()}"></td>
                                    <td th:utext="${p.abonnement}"></td>

                                    <td th:utext="${p.getAbonnement().price}+' DH'" ></td>
                                    <td th:utext="${p.getStart_date()}"></td>
                                    <td th:utext="${p.getEnd_date()}"></td>
                                    <td><span class="badge bg-danger">Impayée</span></td>







                                </tr>
                            </table>

                    </div>


           <!-- <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <div class="card-content">
                            <h3>Les abonnement effectue</h3>
                        </div>
                    </div>
                </div>
            </div>-->

        <div class="card mt-4" >
            <div class="card-header" style="background-color: #598edb;">
                <h3 style=" font-family: Arial, sans-serif !important;color: whitesmoke">Les enregistrements</h3>
            </div>
                <table class="table table-centered table-hover table-responsive mt-3">

                    <tr th:each="check:${checkins}" style="background-color: white">
                        <td th:utext="${check.getId}"></td>
                        <td th:utext="${check.getSession().getClassName()}"></td>

                        <td th:utext="${check.getCheckinDate()}"></td>
                        <td th:utext="${check.getCheckinTime()}"></td>

                    </tr>
                </table>

            </div>



    </div>
</div>
<style>
    body {
        margin-top: 20px;
        color: #1a202c;
        text-align: left;
        background-color: #e2e8f0;
    }

    .main-body {
        padding: 15px;
    }

    .card {
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid rgba(0, 0, 0, .125);
        border-radius: .25rem;
    }

    .card-body {
        flex: 1 1 auto;
        min-height: 1px;
        padding: 1rem;
    }

    .gutters-sm {
        margin-right: -8px;
        margin-left: -8px;
    }

    .gutters-sm > .col, .gutters-sm > [class*=col-] {
        padding-right: 8px;
        padding-left: 8px;
    }

    .mb-3, .my-3 {
        margin-bottom: 1rem !important;
    }

    .bg-gray-300 {
        background-color: #e2e8f0;
    }

    .h-100 {
        height: 100% !important;
    }

    .shadow-none {
        box-shadow: none !important;
    }
</style>
</body>
</html>